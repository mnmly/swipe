<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../build/build.css">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
    <style>
      @font-face{font-family:'OneNikeGlyphs';src:url('http://store.nike.com/nikestore/html/css/fonts/onenike-glyphs-webfont.eot');src:url('http://store.nike.com/nikestore/html/css/fonts/onenike-glyphs-webfont.eot?#iefix') format('embedded-opentype'),url('http://store.nike.com/nikestore/html/css/fonts/onenike-glyphs-webfont.woff') format('woff'),url('http://store.nike.com/nikestore/html/css/fonts/onenike-glyphs-webfont.ttf') format('truetype'),url('http://store.nike.com/nikestore/html/css/fonts/onenike-glyphs-webfont.svg#SVGFont1Regular') format('svg');font-weight:normal;font-style:normal}
      * {
        box-sizing: border-box;
      }
      body {
        padding: 5px;
        font: 14px "Helvetica Neue", Helvetica, Arial;
      }
      h1{
        font-size: 16px;
      }
      #container {
        margin-top: 20px;
        width: 295px;
        height: 300px;
        overflow: hidden;
      }
      ul {
        margin: 0;
        padding: 0;
        height: 380px;
      }
      ul li {
        float: left;
        background: hsla(0, 0%, 90%, .7);
        color: #888;
        width: 80%;
        height: 300px;
        list-style: none;
        margin: 0;
        padding: 20px;
        -webkit-user-select: none;
        border: 1px solid #ddd;
        border-radius: 2px;
        margin-right: 3%;
        margin-left: 3%;
      }
      button {
        margin: 5px 0;
        border: 1px solid #ddd;
        padding: 5px 10px;
        background: #eee;
        border-radius: 2px;
        cursor: pointer;
      }
      button:hover {
        background: #fff;
      }

      .reader {
        height: 100%;
        width: 100%;
        overflow-y: scroll;
        -webkit-overflow-scrolling: touch;
      }
      #dots{
        margin-top: 15px;
        text-align: center;
        width: 100%;
      }
      .dot{
        display: inline-block;
        margin: 3px;
        width: 5px;
        height: 5px;
        background: hsl(0, 0%, 90%);
        border-radius: 50%;
      }
      .dot.active{
        background: hsl(0, 0%, 80%);
      }
      .bg{
        font-family: 'OneNikeGlyphs'!important;
        font-family: 'OneNikeGlyphs'!important;
        font-size: 430px;
        position: absolute;
        top: 0;
        left: 0;
        color: hsla(0, 0%, 0%, .1);
        -webkit-text-fill-color: transparent;
        -webkit-text-stroke: 1px hsla(0, 0%, 0%, .1);
      }
    </style>
  </head>
  <body>
    <div class='bg'>
      a
    </div>
    <div id="container" class='relative'>
      <ul>
        <li>
          <div class="reader">
            <h1>Do you mainly purchase from nike for yourself or a loved one?</h1>
            <p>This is the first example page. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin id mauris arcu. Ut vestibulum,</p>
            <a href='#answer'>Next</a>
          </div>
        </li>

        <li>
          <h1>Two</h1>
          <p>This is the second example page.</p>
          <a href='#answer'>Next</a>

        </li>

        <li>
          <h1>Three</h1>
          <p>This is the third example page.</p>
          <a href='#answer'>Next</a>
        </li>

        <li>
          <h1>Four</h1>
          <p>This is the fourth example page.</p>
          <a href='#answer'>Next</a>
        </li>
        
        <li>
          <h1>Five</h1>
          <p>This is the fourth example page.</p>
          <a href='#answer'>Next</a>
        </li>
        <li>
          <h1>Six</h1>
          <p>This is the fourth example page.</p>
          <a href='#answer'>Next</a>
        </li>

      </ul>
    </div>
      
      <div id="dots">
      </div>

    <script src="../build/build.js"></script>
    <script>
      var swipe = require('swipe');
      var el = document.querySelector('#container');
      var cats = swipe(el);
      var style = require('computed-style');
      var dots = [];

      for(var i = 0; i < el.querySelectorAll('li').length; i++) {
        var li = el.querySelectorAll('li')[i];
        var dot = document.createElement('div');
        dot.className = 'dot';
        dots.push(dot);
        document.getElementById('dots').appendChild(dot);
        li.querySelector('a').addEventListener('click', function(e){
          e.preventDefault();
          cats.next();
        }, false)
      }
      cats.on('show', function(index){
        for(var i = 0; i < dots.length; i++) {
          var dot = dots[i];
          if(i === index){
            dot.classList.add('active')
          } else{
            dot.classList.remove('active')
          }
        }
      })
      setInterval(function(){
        var matrix = getComputedStyle(cats.child).webkitTransform;
        var flagments = matrix.split(',');
        console.log( parseInt( flagments[4],10 ) );;
      }, 20);
    </script>
  </body>
</html>
